---
import Link from "../components/Link.astro";
import Button from "./Button.astro";
---

<div :class="{ 'bg-green-800': !isIndexPage, 'bg-gradient-to-r from-green-800 to-offwhite': isIndexPage }">
  <div x-data="{ showmenu: false }" class="sticky top-0 w-full z-50">
    <!-- Wrapper for background colors -->
    <div class="relative w-full h-auto">
      <!-- Background color for left half (greendark) -->
      <div class="absolute top-0 left-0 w-1/2 h-full" style="background-color: var(--greendark); z-index: 0;"></div>
      <!-- Background color for right half (offwhite) -->
      <div class="absolute top-0 right-0 w-1/2 h-full" :style="{ backgroundColor: isIndexPage ? 'var(--offwhite)' : 'var(--darkgreen)', zIndex: 0 }"></div>
      <!-- Navbar (logo and burger button) -->
      <div id="navbar" class="relative flex flex-row justify-between items-center px-4 py-2 lg:px-8 lg:py-4">
        <!-- Logo -->
        <div id="logo" class="text-l text-[var(--offwhite)] relative z-10">
          <a href="/">DIGITAL <br />CLEANUP <br />DAY</a>
        </div>
        <!-- Desktop navigation -->
        <nav id="desktopmenu" class="hidden lg:flex flex-row items-center gap-12 text-l pt-4 relative z-10" :class="{'text-[var(--greendark)]': isIndexPage, 'text-[var(--offwhite)]': !isIndexPage}">
          <ul class="flex flex-row items-center gap-12">
            <li><a href="/#hvad_er">OM DCD</a></li>
            <li><a href="/#hvorfor">HVORFOR</a></li>
            <li><a href="/#hvordan">HVORDAN</a></li>
            <li><a href="/#facts">VIDSTE DU?</a></li>
            <li>
              <Button variant="outlined" size="small" href="/registrer">DELTAG</Button>
              <!-- Her skal der ændres således at varianten er dynamisk, hvis IsIndexPage er true, dvs. vi er på forsiden skal variant være outlined. Hvis IsIndexPage er false, dvs. vi er ikke på forsiden så skal variant være primary -->
            </li>
          </ul>
        </nav>

        <!-- Burger menu button for mobile -->
        <button id="burgermenu" class="lg:hidden flex flex-col justify-center items-center w-8 h-8 z-50 bg-[var(--greendark)]" x-on:click="showmenu = !showmenu">
          <!-- Show burger lines if menu is closed -->
          <span :class="{ 'rotate-45 translate-y-2': showmenu }" class="block w-6 h-0.5 bg-[var(--offwhite)] mb-1 transition-all duration-300"></span>
          <span :class="{ 'opacity-0': showmenu }" class="block w-6 h-0.5 bg-[var(--offwhite)] mb-1 transition-all duration-300"></span>
          <span :class="{ '-rotate-45 -translate-y-2': showmenu }" class="block w-6 h-0.5 bg-[var(--offwhite)] transition-all duration-300"></span>
        </button>
      </div>
    </div>
    <!-- Mobile navigation with full-screen coverage and padding -->
    <nav id="mobilmenu" class="fixed top-0 left-0 w-full h-full bg-[var(--olivengreen)] flex flex-col justify-center items-center z-40 p-4" x-show="showmenu" x-transition x-on:click="showmenu = false" x-on:click.outside="showmenu = false">
      <ul class="w-full">
        <li class="text-center py-4 border-y-2 border-[var(--offwhite)] text-[var(--offwhite)]"><Link href="#hvad_er">OM DCD</Link></li>
        <li class="text-center py-4 border-b-2 border-[var(--offwhite)] text-[var(--offwhite)]"><Link href="#hvorfor">HVORFOR</Link></li>
        <li class="text-center py-4 border-b-2 border-[var(--offwhite)] text-[var(--offwhite)]"><Link href="#hvordan">HVORDAN</Link></li>
        <li class="text-center py-4 border-b-2 border-[var(--offwhite)] text-[var(--offwhite)]"><Link href="#facts">VIDSTE DU?</Link></li>
        <li class="text-center py-8 text-[var(--offwhite)]"><Button variant="primary" size="small" href="/registrer">DELTAG</Button></li>
      </ul>
    </nav>
  </div>
</div>
